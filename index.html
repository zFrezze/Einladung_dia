<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Einladung</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:linear-gradient(135deg,#f8f9fc,#e3f3ff);
    font-family:sans-serif;
    overflow:hidden;
  }

  /* Envelope */
  .envelope {
    position:relative;
    width:320px;
    height:220px;
    background:#fff;
    border:2px solid #ddd;
    box-shadow:0 10px 30px rgba(0,0,0,0.15);
    overflow:hidden;
    cursor:pointer;
  }
  .flap {
    position:absolute;
    top:0; left:0;
    width:100%; height:100%;
    background:#fafafa;
    clip-path:polygon(0 0, 100% 0, 50% 60%);
    transform-origin:top center;
    z-index:2;
  }

  /* Seal halves */
  .seal {
    position:absolute;
    top:45%;
    left:50%;
    transform:translate(-50%,-50%);
    width:70px;
    height:70px;
    z-index:3;
    cursor:pointer;
  }
  .seal svg {
    width:100%;
    height:100%;
  }
  .seal-half {
    fill:#b30000;
    stroke:#660000;
    stroke-width:2;
  }
  .seal-text {
    font-weight:bold;
    font-size:20px;
    fill:#fff;
    text-anchor:middle;
    dominant-baseline:middle;
    pointer-events:none;
  }

  /* Diamond Card */
  .diamond {
    position:absolute;
    top:50%;
    left:50%;
    width:160px;
    height:160px;
    background:url('https://picsum.photos/300/300') center/cover; /* Platzhalter-Textur */
    transform:translate(-50%,-50%) rotate(45deg) scale(0);
    box-shadow:0 12px 30px rgba(0,0,0,0.25);
    cursor:pointer;
    z-index:5;
  }

  /* Diamond Flaps */
  .diamond .flap {
    position:absolute;
    width:50%;
    height:50%;
    background:inherit;
    background-size:cover;
    background-position:center;
    border:1px solid #ccc;
  }
  .diamond .top    { top:0; left:25%; transform-origin:bottom center; }
  .diamond .bottom { bottom:0; left:25%; transform-origin:top center; }
  .diamond .left   { left:0; top:25%; transform-origin:right center; }
  .diamond .right  { right:0; top:25%; transform-origin:left center; }

  /* Inner text */
  .diamond .inner {
    position:absolute;
    inset:20%;
    background:#fff;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    opacity:0;
    padding:10px;
    border-radius:10px;
    box-shadow:0 4px 20px rgba(0,0,0,0.2);
  }
  .diamond .inner h2 {
    margin:0 0 10px;
  }
</style>
</head>
<body>

<div class="envelope" id="envelope">
  <div class="flap" id="envelopeFlap"></div>
  <div class="seal" id="seal">
    <svg viewBox="0 0 100 100">
      <!-- linke Hälfte -->
      <path id="sealLeft" class="seal-half" d="M50,10 A40,40 0 1,1 49.9,10 z"/>
      <!-- rechte Hälfte -->
      <path id="sealRight" class="seal-half" d="M50,10 A40,40 0 1,0 50.1,10 z"/>
      <!-- Text HH -->
      <text x="50" y="55" class="seal-text">HH</text>
    </svg>
  </div>
</div>

<div class="diamond" id="diamond">
  <div class="flap top"></div>
  <div class="flap right"></div>
  <div class="flap bottom"></div>
  <div class="flap left"></div>
  <div class="inner">
    <h2>Einladung</h2>
    <p><strong>Wann:</strong> 12. Oktober 2025, 18:00</p>
    <p><strong>Wo:</strong> Crystal Hall, Wien</p>
    <p>Komm und feiere mit uns! ✨</p>
  </div>
</div>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script>
const seal = document.getElementById('seal');
const sealLeft = document.getElementById('sealLeft');
const sealRight = document.getElementById('sealRight');
const flap = document.getElementById('envelopeFlap');
const diamond = document.getElementById('diamond');
let step = 0;

// Klick auf das Kuvert
document.getElementById('envelope').addEventListener('click', ()=>{
  if(step===0){
    // Siegel bricht auseinander
    gsap.to(sealLeft, {x:-40, y:20, rotation:-25, duration:0.7, ease:"power2.in"});
    gsap.to(sealRight,{x:40, y:-20, rotation:25, duration:0.7, ease:"power2.in"});
    gsap.to("#seal text",{opacity:0, duration:0.3});
    step=1;
  } else if(step===1){
    // Umschlag öffnet sich und Diamant fährt hoch
    gsap.to(flap, {rotationX:-160, duration:1, transformOrigin:"top center"});
    gsap.to(diamond, {scale:1, y:-220, duration:1, ease:"back.out(1.5)"});
    step=2;
  }
});

// Klick auf Diamanten
let diamondOpen=false;
diamond.addEventListener('click', ()=>{
  if(step===2 && !diamondOpen){
    gsap.to(".diamond .top",    {rotationX:-180, duration:1});
    gsap.to(".diamond .bottom", {rotationX:180, duration:1});
    gsap.to(".diamond .left",   {rotationY:-180, duration:1});
    gsap.to(".diamond .right",  {rotationY:180, duration:1});
    gsap.to(".diamond .inner",  {opacity:1, delay:0.8, duration:0.6});
    diamondOpen=true;
  }
});
</script>
</body>
</html>
